<mat-card>
  <div class="form-container">
    <form [formGroup]="roomTypeForm">
      <mat-card-header>
        <mat-card-title>Crear tipo de habitación</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="d-flex">
          <mat-form-field>
            <input formControlName="description" matInput placeholder="Descripción" required />
          </mat-form-field>
          <mat-form-field>
            <span matPrefix>$&nbsp;</span>
            <input formControlName="priceDay" matInput placeholder="Precio por día" type="number" required />
          </mat-form-field>
          <mat-form-field>
            <span matPrefix>$&nbsp;</span>
            <input formControlName="priceHour" matInput placeholder="Precio por hora" type="number" required />
          </mat-form-field>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="save()">Guardar</button>

      </mat-card-actions>

    </form>
  </div>

</mat-card>

<mat-card>
  <div class="custom-prices-header">
    <h1>Lista de precios personalizados</h1>
    <mat-icon
      matTooltip="Los precios personalizados te permitirán definir tarifas especiales para este tipo de habitación por días, rangos de horas, entre otros.">
      live_help</mat-icon>
  </div>

  <mat-card-content>
    <button *ngIf="!priceDetailVisible" mat-stroked-button color="primary" (click)="showPriceDetail()">Agregar precio
      personalizado</button>
    <!-- <ho-price-details></ho-price-details> -->

    <ho-price-detail *ngIf="priceDetailVisible" (valueChange)="setPriceDetail($event)"></ho-price-detail>
    <p class="noDataTable" *ngIf="!hasCustomPrices()">No se han definido precios personalizados para este tipo de
      habitación</p>

    <table *ngIf="hasCustomPrices()" mat-table [dataSource]="dataSource" class="mat-elevation-z2">
      <ng-container matColumnDef="day">
        <th mat-header-cell *matHeaderCellDef>Día</th>
        <td mat-cell *matCellDef="let priceDetail">{{ priceDetail.day }}</td>
      </ng-container>
      <ng-container matColumnDef="priceDay">
        <th mat-header-cell *matHeaderCellDef>Precio día</th>
        <td mat-cell *matCellDef="let priceDetail">{{ priceDetail.priceDay | currency:'USD':'symbol':'1.0-0' }}
        </td>
      </ng-container>
      <ng-container matColumnDef="priceHour">
        <th mat-header-cell *matHeaderCellDef>Precio hora</th>
        <td mat-cell *matCellDef="let priceDetail">{{ priceDetail.priceHour | currency:'USD':'symbol':'1.0-0'}}</td>
      </ng-container>
      <ng-container matColumnDef="startTime">
        <th mat-header-cell *matHeaderCellDef>Hora inicio</th>
        <td mat-cell *matCellDef="let priceDetail">{{ priceDetail.startTime}}</td>
      </ng-container>
      <ng-container matColumnDef="endTime">
        <th mat-header-cell *matHeaderCellDef>Hora fin</th>
        <td mat-cell *matCellDef="let priceDetail">{{ priceDetail.endTime}}</td>
      </ng-container>
      <ng-container matColumnDef="holiday">
        <th mat-header-cell *matHeaderCellDef>Festivo</th>
        <td mat-cell *matCellDef="let priceDetail">{{ priceDetail.holiday | yesNo}}</td>
      </ng-container>
      <ng-container matColumnDef="remove">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let i = index;" class="action-column-icon">
          <mat-icon (click)="removePriceDetail(i)">delete</mat-icon>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

  </mat-card-content>

</mat-card>
